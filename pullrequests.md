# Pull Requests

## 为什么我们要用 PRs

- 代码质量更有保证，参与进来的的同事更多，看问题更全面，对代码本身甚至设计理念都会有一个保证，并允许团队成员在项目中保持一致和纪律。

- 更多人受益，除了代码提交者本身，参与进来的同事甚至“路过”的同事都可以从 comments 中看到整个讨论的过程，提供了良好实践的来源。

- 学习效果好，对于提交者来讲有点心理压力，印象更深刻。

- 正能量，当提交很棒的功能或者漂亮的代码时会被各种赞美，于是脑子一热又多做一个需求。

## PR 标题格式

## 我们应该怎么做

### 开发者

1. 在发出 PRs 之前，您必须验证所有单元和集成测试都能通过。
2. 负责你自己的 PRs，直到它被合并。
3. 创建 PR 之前和之后都要事先自己 review 提交的代码。
4. 保持的你的 PRs 和你的目标分支的同步。
5. 经常回复评论者的评论，并对你的决定进行论证。
6. 等待被审批过的合并，即使您已经回复了他们。这将给审阅人员一个机会来查看评论并可能进行回复。
7. 不要轻率地听从评论的变化——我们是鼓励讨论的。
8. 在可能会让审阅人员感到困惑的地方留下注释。
9. 保持 PR 尽可能小(尽量避免在一个大 PR 中堆积多个任务——把它分成多个小任务)。
10. 如果有依赖于其他项目的 PRs，需要著名依赖 PRs 的链接(如须同时合并)。
11. 创建 PR 的描述性标题，而不是默认标题(分支名称)。

### 评审者

1. 定期检查 PRs——每天安排一两次定期检查。
2. 不管别人是否已经 approved，都要对 PR 进行评审——其他评审人员可能漏掉了一些东西。
3. 即使您没有明确地列在 PR 评审人员列表中，也要对 PR 进行评审(例如，其他团队所做的一些更改可能会影响您的应用程序部分)。
4. 如果问题不是很明显，总是试着提出你的建议。
5. 永远不要推迟 PR 评审(特别是当有人直接要求的时候!)-代码评审是你工作的一个重要部分。
6. 代码评审不仅仅是发现代码变坏的征兆或者其他不好的东西——如果你发现了你喜欢的东西，用积极的评论来感谢作者。

### 团队领导者

1. 鼓励你的团队进行更高层次的评审活动
2. 标记还不能合并的 PRs(例如在 PR 标题中放置[暂停])，并在准备合并时取消标记
3. 不要为分支之间的同步创建 PRs (release/X -> development, develop -> feature/long-lived)，在本地合并分支并将更改直接推送到目标分支。确保所有的单元测试和集成测试都运行良好。
